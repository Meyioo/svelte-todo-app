import{M as p,g as f,B as D,O as S,q as m}from"./utils.zgTLl2Uz.js";import{e as E}from"./bundle-mjs.JRBEjYNe.js";import{a as T}from"./props.DFTn0GLN.js";import{w as g}from"./index.DkBm8E5a.js";function u(e,a,t,r=t){e.addEventListener(a,t);const l=e.__on_r;l?e.__on_r=()=>{l(),r()}:e.__on_r=r,E()}function O(e,a,t=a){var r=p();u(e,"input",()=>{var l=_(e)?b(e.value):e.value;t(l),r&&l!==(l=a())&&(e.value=l??"")}),f(()=>{var l=a();if(D&&e.defaultValue!==e.value){t(e.value);return}_(e)&&l===b(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}const o=new Set;function P(e,a,t,r,l=r){var d=t.getAttribute("type")==="checkbox",n=e;let h=!1;if(a!==null)for(var i of a)n=n[i]??(n[i]=[]);n.push(t),u(t,"change",()=>{var s=t.__value;d&&(s=v(n,s,t.checked)),l(s)},()=>l(d?[]:null)),f(()=>{var s=r();if(D&&t.defaultChecked!==t.checked){h=!0;return}d?(s=s||[],t.checked=s.includes(t.__value)):t.checked=T(t.__value,s)}),S(()=>{var s=n.indexOf(t);s!==-1&&n.splice(s,1)}),o.has(n)||(o.add(n),m(()=>{n.sort((s,c)=>s.compareDocumentPosition(c)===4?-1:1),o.delete(n)})),m(()=>{if(h){var s;if(d)s=v(n,s,t.checked);else{var c=n.find(k=>k.checked);s=c==null?void 0:c.__value}l(s)}})}function I(e,a,t=a){u(e,"change",()=>{var r=e.checked;t(r)}),a()==null&&t(!1),f(()=>{var r=a();e.checked=!!r})}function v(e,a,t){for(var r=new Set,l=0;l<e.length;l+=1)e[l].checked&&r.add(e[l].__value);return t||r.delete(a),Array.from(r)}function _(e){var a=e.type;return a==="number"||a==="range"}function b(e){return e===""?null:+e}function A(e,a){const t=localStorage.getItem(e),r=t?JSON.parse(t):a,l=g(r);return l.subscribe(d=>localStorage.setItem(e,JSON.stringify(d))),l}const w=A("todos",[{id:1,title:"Einkaufen gehen",description:"Milch, Eier, Brot und Gemüse kaufen",completed:!1,selected:!1,dueDate:new Date("2023-12-01")},{id:2,title:"Bachelorarbeit schreiben",description:"Kapitel über Svelte-Framework fertigstellen",completed:!1,selected:!1,dueDate:new Date("2023-12-02")},{id:3,title:"Fitnessstudio besuchen",description:"1 Stunde Ausdauer und Krafttraining",completed:!1,selected:!1,dueDate:new Date("2023-12-03")},{id:4,title:"Einkaufen gehen",description:"Lebensmittel und Haushaltswaren besorgen",completed:!1,selected:!1,dueDate:new Date("2023-12-04")},{id:5,title:"Arzttermin wahrnehmen",description:"Jährliche Gesundheitsuntersuchung",completed:!1,selected:!1,dueDate:new Date("2023-12-05")},{id:6,title:"E-Mails bearbeiten",description:"Alle wichtigen E-Mails durchgehen und beantworten",completed:!1,selected:!1,dueDate:new Date("2023-12-06")},{id:7,title:"Projektbericht schreiben",description:"Fortschrittsbericht für das aktuelle Projekt erstellen",completed:!1,selected:!1,dueDate:new Date("2023-12-07")},{id:8,title:"Wohnung putzen",description:"Staubsaugen und Oberflächen abwischen",completed:!1,selected:!1,dueDate:new Date("2023-12-08")},{id:9,title:"Freunde treffen",description:"Treffen zum Abendessen vereinbaren",completed:!1,selected:!1,dueDate:new Date("2023-12-09")},{id:10,title:"Rechnung bezahlen",description:"Telefon- und Internetrechnung begleichen",completed:!1,selected:!1,dueDate:new Date("2023-12-10")},{id:11,title:"Buch lesen",description:"Kapitel 4 des aktuellen Buches durchlesen",completed:!1,selected:!1,dueDate:new Date("2023-12-11")},{id:12,title:"Joggen gehen",description:"30 Minuten joggen im Park",completed:!1,selected:!1,dueDate:new Date("2023-12-12")},{id:13,title:"Familie anrufen",description:"Kurzes Gespräch mit den Eltern führen",completed:!1,selected:!1,dueDate:new Date("2023-12-13")}]),J=g("");function K(e){w.update(a=>{const t=a.length>0?Math.max(...a.map(r=>r.id),0)+1:1;return e.id=t,a.push(e),a})}function j(e){w.update(a=>{const t=a.find(r=>e===r);return t&&(t.selected=!t.selected),a})}export{J as S,w as T,P as a,I as b,K as c,O as d,j as s};
